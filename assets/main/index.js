System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var n,e,r,i,u,t,c,s,a;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,r=o.createClass,i=o.initializerDefineProperty,u=o.assertThisInitialized},function(o){t=o.cclegacy,c=o._decorator,s=o.AudioSource,a=o.Component}],execute:function(){var l,p,d,f,h,S,y,g;t._RF.push({},"34d6cMht1lEPYuRULH0UOEC","AudioManager",void 0);var M=c.ccclass,m=c.property;o("AudioManager",(l=M("AudioManager"),p=m(s),d=m(s),l(((g=function(o){function n(){for(var n,e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return n=o.call.apply(o,[this].concat(r))||this,i(n,"musicSource",S,u(n)),i(n,"soundSource",y,u(n)),n}e(n,o);var t=n.prototype;return t.onLoad=function(){n._instance?this.destroy():n._instance=this},t.onDestroy=function(){n._instance===this&&(n._instance=null)},t.stopMusic=function(){this.musicSource?(this.musicSource.stop(),this.musicSource.loop=!1):console.error("AudioManager: Music source or clip not found")},t.stopSound=function(){this.soundSource?this.soundSource.stop():console.error("AudioManager: Sound source not found")},t.playMusic=function(o,n){void 0===n&&(n=!1),o?(this.musicSource.clip=o,this.musicSource.loop=n,this.musicSource.play()):console.error("AudioManager: Music source or clip not found")},t.playSound=function(o){o?this.soundSource.playOneShot(o):console.error("AudioManager: Sound source or clip not found")},r(n,null,[{key:"instance",get:function(){return n._instance}}]),n}(a))._instance=null,S=n((h=g).prototype,"musicSource",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(h.prototype,"soundSource",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.EventTarget}],execute:function(){t._RF.push({},"78cbfoxp1BAo5QE0YtTWb49","EventManager",void 0),e("EventManager",(function(){})).eventTarget=new n,t._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts","./EventManager.ts","./ReelManager.ts","./ResultManager.ts","./AudioManager.ts"],(function(t){var n,i,e,a,o,s,l,u,r,c,h,b,p,f,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,l=t.Button,u=t.Label,r=t.Animation,c=t.Component},function(t){h=t.ResourceManager},function(t){b=t.EventManager},function(t){p=t.ReelManager},function(t){f=t.ResultManager},function(t){g=t.AudioManager}],execute:function(){var B,d,m,v,L,W,y,w,M,S,A,T,R,z,k,C,x,D,G;o._RF.push({},"f8e7f6FVfxIobfka781g3xo","GameManager",void 0);var _=s.ccclass,F=s.property;t("GameManager",(B=_("GameManager"),d=F(l),m=F(l),v=F(l),L=F(l),W=F(l),y=F(u),w=F(u),M=F(r),B((T=n((A=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,e(n,"spinButton",T,a(n)),e(n,"maxBetButton",R,a(n)),e(n,"autoSpinButton",z,a(n)),e(n,"minusBetButton",k,a(n)),e(n,"plusBetButton",C,a(n)),e(n,"betLabel",x,a(n)),e(n,"totalWinLabel",D,a(n)),e(n,"totalWinLabelAnimation",G,a(n)),n.bet=10,n.totalWin=0,n.totalCost=0,n.totalReward=0,n.isAutoSpin=!1,n}i(n,t);var o=n.prototype;return o.onLoad=function(){h.init(),b.eventTarget.on("resource-loaded",this.onSourcesLoaded,this),b.eventTarget.on("activate-buttons",this.activateButtons,this),b.eventTarget.on("show-total-win",this.showTotalWin,this)},o.start=function(){this.updateBetLabel(),this.hideTotalWin()},o.onDestroy=function(){b.eventTarget.off("resource-loaded",this.onSourcesLoaded,this),b.eventTarget.off("activate-buttons",this.activateButtons,this),b.eventTarget.off("show-total-win",this.showTotalWin,this)},o.updateBetLabel=function(){this.betLabel.string=""+this.bet},o.onSourcesLoaded=function(){this.spinButton.interactable=!0,b.eventTarget.emit("reels-init")},o.onClickSpin=function(){if(!p.instance.isSpinning){this.inactivateButtons(),this.hideTotalWin(),b.eventTarget.emit("clear-active-slots");var t=f.getRandomResult();b.eventTarget.emit("start-spin",t),console.log("抽獎",t),this.totalWin=t.totalWin*this.bet}},o.onClickPlus=function(){this.bet>=100||(this.bet+=10,this.updateBetLabel())},o.onClickMinus=function(){this.bet<=10||(this.bet-=10,this.updateBetLabel())},o.onClickMaxBet=function(){this.bet=100,this.updateBetLabel()},o.onClickAutoSpin=function(){this.isAutoSpin=!this.isAutoSpin,this.isAutoSpin?this.onClickSpin():this.activateButtons()},o.inactivateButtons=function(){this.spinButton.interactable=!1,this.maxBetButton.interactable=!1,this.minusBetButton.interactable=!1,this.plusBetButton.interactable=!1},o.activateButtons=function(){p.instance.isSpinning||this.isAutoSpin||(this.spinButton.interactable=!0,this.maxBetButton.interactable=!0,this.minusBetButton.interactable=!0,this.plusBetButton.interactable=!0)},o.hideTotalWin=function(){this.totalWinLabel.node.active=!1,this.totalWinLabel.string="",this.totalWinLabelAnimation.stop()},o.showTotalWin=function(){var t=this;this.totalWin>0?g.instance.playMusic(h.getAsset("audios","win"),!1):g.instance.playMusic(h.getAsset("audios","no-win"),!1),this.totalWinLabel.string="Total Win: "+this.totalWin,this.totalWinLabel.node.active=!0,this.totalWinLabelAnimation.play(),this.isAutoSpin&&this.scheduleOnce((function(){t.isAutoSpin&&t.onClickSpin()}),1)},n}(c)).prototype,"spinButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(A.prototype,"maxBetButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(A.prototype,"autoSpinButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(A.prototype,"minusBetButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(A.prototype,"plusBetButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(A.prototype,"betLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(A.prototype,"totalWinLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(A.prototype,"totalWinLabelAnimation",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=A))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioManager.ts","./EventManager.ts","./GameManager.ts","./Reel.ts","./ReelManager.ts","./ResourceManager.ts","./ResultManager.ts","./Slot.ts","./SlotPool.ts","./uitls.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Reel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotPool.ts","./uitls.ts","./Slot.ts","./index.d.ts","./EventManager.ts"],(function(t){var i,e,s,n,o,r,a,l,h,p,u,c,f,d,g,S,_,v,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.createForOfIteratorHelperLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.CCInteger,h=t.CCFloat,p=t.CCBoolean,u=t.Vec3,c=t.tween,f=t.Component},function(t){d=t.SlotPool},function(t){g=t.getRandomSlotType,S=t.getRandomSlotTypes},function(t){_=t.Slot},function(t){v=t.SlotType},function(t){m=t.EventManager}],execute:function(){var w,y,b,C,R,I,P,D,A,T,x,z,F,L,H;r._RF.push({},"e53b95s14NPw6bfIhkOA2LD","Reel",void 0);var M=a.ccclass,O=a.property;t("Reel",(w=M("Reel"),y=O(l),b=O(h),C=O(h),R=O(h),I=O(h),P=O(p),w((T=i((A=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(i,"slotHeight",T,o(i)),n(i,"tweenSpinDuration",x,o(i)),n(i,"tweenAlignDuration",z,o(i)),n(i,"spinDuration",F,o(i)),n(i,"randomCount",L,o(i)),n(i,"isDebug",H,o(i)),i.resultSlotInstances=[],i.slots=[],i.slotInstances=[],i.startPositions=[],i.targetResult=[v.Cherry,v.Cherry,v.Cherry],i._lastActiveSlotInstances=[],i.firstRandom=[],i.slotCount=7,i._positionCenterIndex=4,i._spinSpeed=1417.5,i._stopSpeed=742.5,i._isSpinning=!1,i._isStopping=!1,i._index=0,i._startPosition=new u(0,0,0),i._tweenPosition=new u(0,0,0),i._tempTargetSet=new Set,i._tempFirstRandomSet=new Set,i}e(i,t);var r=i.prototype;return r.onLoad=function(){m.eventTarget.on("show-active-slots",this.showActiveSlots,this),m.eventTarget.on("clear-active-slots",this.hideLastActiveSlots,this)},r.start=function(){this._positionCenterIndex=this.slotCount-3,this._startPosition.set(this.node.position),this._tweenPosition.set(this.node.position.x,this.node.position.y+50,this.node.position.z)},r.update=function(t){if(this._isSpinning)for(var i=this._isStopping?this._stopSpeed:this._spinSpeed,e=this.slotCount-1;e>=0;e--){var s=this.slots[e],n=s.position.y-i*t;if(s.setPosition(s.position.x,n,0),n<=3*-this.slotHeight){var o=(e+1)%this.slotCount;if(s.setPosition(0,this.slots[o].position.y+this.slotHeight,0),this._isStopping)if(this._tempTargetSet.size<this.targetResult.length){if(Math.abs(e-this._positionCenterIndex)<=1&&!this._tempTargetSet.has(e)){var r=this.targetResult[e-this._positionCenterIndex+1];void 0!==r&&(this.slotInstances[e].slotType=r,this._tempTargetSet.add(e))}}else 1===e&&this.startAlign();else if(this._tempFirstRandomSet.size<this.firstRandom.length&&e<=this.firstRandom.length-1&&!this._tempFirstRandomSet.has(e)){var a=this.firstRandom[e];void 0!==a&&(this.slotInstances[e].slotType=a,this._tempFirstRandomSet.add(e))}}}},r.onDestroy=function(){m.eventTarget.off("show-active-slots",this.showActiveSlots,this),m.eventTarget.off("clear-active-slots",this.hideLastActiveSlots,this)},r.init=function(t){this._index=t;for(var i=0;i<this.slotCount;i++){var e=d.instance.getSlot(),s=e.getComponent(_),n=new u(0,(i-this._positionCenterIndex)*-this.slotHeight,0);s.slotType=g(),this.isDebug&&(s.testLabel.string=""+i,s.testLabel.node.active=!0),e.setPosition(n),e.setParent(this.node),this.slots.push(e),this.slotInstances.push(s),this.startPositions.push(n),i>=3&&i<=5&&this.resultSlotInstances.push(s)}},r.startSpin=function(t){var i=this;this.targetResult=t,this.firstRandom=S(this.randomCount),this._tempTargetSet.clear(),this._tempFirstRandomSet.clear(),c(this.node).to(this.tweenSpinDuration,{position:this._tweenPosition}).to(this.tweenSpinDuration,{position:this._startPosition}).call((function(){i.scheduleOnce((function(){i._isStopping=!0}),i.spinDuration)})).start(),this.scheduleOnce((function(){i._isSpinning=!0}),1.95*this.tweenSpinDuration)},r.startAlign=function(){var t=this;this._isStopping=!1,this._isSpinning=!1;for(var i=function(i){var e=t.slots[i];c(e).to(t.tweenAlignDuration,{position:t.startPositions[i]}).call((function(){1===i&&(t.slots[0].setPosition(t.startPositions[0]),t.stopSpin())})).start()},e=this.slotCount-1;e>0;e--)i(e)},r.stopSpin=function(){m.eventTarget.emit("reel-stopped")},r.hideLastActiveSlots=function(){for(var t,i=s(this._lastActiveSlotInstances);!(t=i()).done;){t.value.hideFrame()}this._lastActiveSlotInstances=[]},r.showActiveSlots=function(t){for(var i,e=s(t);!(i=e()).done;){var n=i.value,o=n.payLine,r=n.count,a=o[this._index],l=this.resultSlotInstances[a];(this._index<3||3===this._index&&r>=4||4===this._index&&5===r)&&(l.showFrame(),this._lastActiveSlotInstances.push(l))}},i}(f)).prototype,"slotHeight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 135}}),x=i(A.prototype,"tweenSpinDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),z=i(A.prototype,"tweenAlignDuration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),F=i(A.prototype,"spinDuration",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),L=i(A.prototype,"randomCount",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),H=i(A.prototype,"isDebug",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=A))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/ReelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotPool.ts","./EventManager.ts","./ResourceManager.ts","./Reel.ts","./AudioManager.ts"],(function(e){var t,n,s,i,a,r,o,l,c,p,u,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,s=e.createClass,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Component},function(e){c=e.SlotPool},function(e){p=e.EventManager},function(e){u=e.ResourceManager},function(e){h=e.Reel},function(e){f=e.AudioManager}],execute:function(){var g,R,d,v,S,_;r._RF.push({},"5f0dcfjXJFFC6wYA7ruktlb","ReelManager",void 0);var y=o.ccclass,M=o.property;e("ReelManager",(g=y("ReelManager"),R=M([h]),g(((_=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"reelInstances",S,a(t)),t.reelStartDelay=.35,t.isSpinning=!1,t._stoppedReels=0,t._spinResult=null,t}n(t,e);var r=t.prototype;return r.onLoad=function(){t._instance?this.destroy():t._instance=this,p.eventTarget.on("reels-init",this.initReels,this),p.eventTarget.on("start-spin",this.startSpin,this),p.eventTarget.on("reel-stopped",this.onReelStopped,this)},r.onDestroy=function(){t._instance===this&&(t._instance=null),p.eventTarget.off("reels-init",this.initReels,this),p.eventTarget.off("start-spin",this.startSpin,this),p.eventTarget.off("reel-stopped",this.onReelStopped,this)},r.initReels=function(){console.log("init reels"),c.instance.init(u.getAsset("prefabs","SlotPrefab"));for(var e=0;e<this.reelInstances.length;e++)this.reelInstances[e].init(e)},r.startSpin=function(e){var t=this;if(!this.isSpinning){this.isSpinning=!0,this._stoppedReels=0,this._spinResult=e,f.instance.stopMusic(),f.instance.playMusic(u.getAsset("audios","reel-spin"),!0);for(var n=function(n){t.scheduleOnce((function(){t.reelInstances[n].startSpin(e.matrix[n])}),n*t.reelStartDelay)},s=0;s<this.reelInstances.length;s++)n(s)}},r.onReelStopped=function(){f.instance.playSound(u.getAsset("audios","reel-stop")),this._stoppedReels++,this._stoppedReels>=this.reelInstances.length&&(this._stoppedReels=0,this.stopSpin())},r.stopSpin=function(){this.isSpinning=!1,f.instance.stopMusic(),p.eventTarget.emit("activate-buttons"),p.eventTarget.emit("show-total-win"),p.eventTarget.emit("show-active-slots",this._spinResult.payLineResult)},s(t,null,[{key:"instance",get:function(){return t._instance}}]),t}(l))._instance=null,S=t((v=_).prototype,"reelInstances",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=v))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){var t,o,s,r,n,a,u;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,s=e.Prefab,r=e.SpriteAtlas,n=e.AudioClip,a=e.resources},function(e){u=e.EventManager}],execute:function(){o._RF.push({},"78767/5Y75AOr9TlZS2Nxq0","ResourceManager",void 0);var c=e("ResourceManager",function(){function e(){}return e.init=function(){for(var e,o=this,s=function(){var t=e.value;o.loadAssets(t.path,t.type,(function(e){e?o.completeLoad():console.error(t.path+" 載入失敗")}))},r=t(this.resources);!(e=r()).done;)s()},e.loadAssets=function(e,t,o){var s=this;a.loadDir(e,t,(function(t,r){if(t)return console.error("Failed to load "+e+":",t),void o(!1);s.assetStores[e]||(s.assetStores[e]={}),r.forEach((function(t){var o=t.name;s.assetStores[e][o]=t})),o(!0)}))},e.getAsset=function(e,t){return this.assetStores[e]&&this.assetStores[e][t]?this.assetStores[e][t]:(console.error(e+" not found in store: "+t),null)},e.completeLoad=function(){this.completeCount++,this.completeCount>=this.resources.length&&(console.log("所有資源載入完成"),u.eventTarget.emit("resource-loaded"))},e}());c.resources=[{path:"prefabs",type:s},{path:"textures/items",type:r},{path:"audios",type:n}],c.assetStores={},c.completeCount=0,o._RF.pop()}}}));

System.register("chunks:///_virtual/ResultManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.d.ts"],(function(t){var e,r,n;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy},function(t){n=t.SlotType}],execute:function(){var a,o,i;r._RF.push({},"3e135bJup5JhY3xiOUYnsUb","ResultManager",void 0);var u=t("ResultManager",function(){function t(){}return t.getWeightedRandomSlotType=function(){for(var t=Math.random()*this.totalWeight,e=0,r=0,n=Object.entries(this.slotWeights);r<n.length;r++){var a=n[r],o=a[0];if(t<(e+=a[1]))return Number(o)}throw new Error("No slot type found")},t.generateResultMatrix=function(){for(var t=[],e=0;e<this.rows;e++){for(var r=[],n=0;n<this.cols;n++)r.push(this.getWeightedRandomSlotType());t.push(r)}return t},t.getPayLineSlotType=function(t,e){return t.map((function(t,r){return t[e[r]]}))},t.calculateLineWin=function(t){for(var r,a=null,o=0,i=e(t);!(r=i()).done;){var u=r.value;if(null!==a){if(u!==a&&u!==n.Wild)break;o++}else{if(u===n.Wild||u===n.Scatter)return{count:0,win:0,matched:null};a=u,o++}}return null!=a&&o>=3&&this.payoutTable[a]?{count:o,win:this.payoutTable[a][o],matched:a}:{count:0,win:0,matched:null}},t.calculateScatter=function(t){for(var r,a=0,o=e(t);!(r=o()).done;)for(var i,u=r.value,s=e(u);!(i=s()).done;){i.value===n.Scatter&&a++}return a>3?{scatterCount:this.scatterPayout[a],scatterTriggered:!0}:{scatterCount:0,scatterTriggered:!1}},t.getRandomResult=function(){for(var t=0,e=[],r=this.generateResultMatrix(),n=0;n<this.payLines.length;n++){var a=this.payLines[n],o=this.getPayLineSlotType(r,a),i=this.calculateLineWin(o),u=i.count,s=i.win,l=i.matched;u>0&&(e.push({payLine:a,matched:l,count:u,win:s}),t+=s)}var c=this.calculateScatter(r);return{matrix:r,payLineResult:e,totalWin:t,scatterCount:c.scatterCount,scatterTriggered:c.scatterTriggered}},t}());a=u,u.rows=5,u.cols=3,u.slotWeights=((o={})[n.Cherry]=26,o[n.Lemon]=22,o[n.Orange]=16,o[n.Banana]=13,o[n.Grape]=10,o[n.Watermelon]=8,o[n.Wild]=5,o),u.totalWeight=Object.values(a.slotWeights).reduce((function(t,e){return t+e}),0),u.payoutTable=((i={})[n.Cherry]={3:2,4:5,5:20},i[n.Lemon]={3:2,4:6,5:25},i[n.Orange]={3:3,4:8,5:30},i[n.Banana]={3:4,4:10,5:40},i[n.Grape]={3:5,4:15,5:60},i[n.Watermelon]={3:10,4:30,5:100},i),u.scatterPayout={3:3,4:4,5:5},u.payLines=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[1,0,1,2,1],[1,2,1,0,1]],r._RF.pop()}}}));

System.register("chunks:///_virtual/Slot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.d.ts","./ResourceManager.ts"],(function(t){var e,r,i,s,a,o,l,n,p,c,u,m,h,S,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.createClass,s=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,n=t.Sprite,p=t.Node,c=t.Animation,u=t.Label,m=t.Component},function(t){h=t.SlotType,S=t.SlotSpriteFrameType},function(t){y=t.ResourceManager}],execute:function(){var F,b,d,f,g,A,_,B,k,v,T;o._RF.push({},"8c26bJ6g6dC6Zzi8hkMWAKB","Slot",void 0);var w=l.ccclass,z=l.property;t("Slot",(F=w("Slot"),b=z(n),d=z(p),f=z(c),g=z(u),F((B=e((_=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,s(e,"slotBody",B,a(e)),s(e,"slotNeonFrame",k,a(e)),s(e,"slotFrameAnimation",v,a(e)),s(e,"testLabel",T,a(e)),e._slotType=h.Cherry,e._slotSpriteAtlas=null,e}r(e,t);var o=e.prototype;return o.setSlotSpriteAtlas=function(){this._slotSpriteAtlas=y.getAsset("textures/items","items")},o.updateSpriteFrame=function(){switch(this._slotSpriteAtlas||this.setSlotSpriteAtlas(),this._slotType){case h.Cherry:this.slotBody.spriteFrame=this._slotSpriteAtlas.getSpriteFrame(S.Cherry);break;case h.Lemon:this.slotBody.spriteFrame=this._slotSpriteAtlas.getSpriteFrame(S.Lemon);break;case h.Orange:this.slotBody.spriteFrame=this._slotSpriteAtlas.getSpriteFrame(S.Orange);break;case h.Banana:this.slotBody.spriteFrame=this._slotSpriteAtlas.getSpriteFrame(S.Banana);break;case h.Grape:this.slotBody.spriteFrame=this._slotSpriteAtlas.getSpriteFrame(S.Grape);break;case h.Watermelon:this.slotBody.spriteFrame=this._slotSpriteAtlas.getSpriteFrame(S.Watermelon);break;case h.Wild:this.slotBody.spriteFrame=this._slotSpriteAtlas.getSpriteFrame(S.Wild);break;case h.Scatter:this.slotBody.spriteFrame=this._slotSpriteAtlas.getSpriteFrame(S.Scatter)}},o.showFrame=function(){this.slotNeonFrame.active=!0,this.slotFrameAnimation.play()},o.hideFrame=function(){this.slotNeonFrame.active=!1,this.slotFrameAnimation.stop()},i(e,[{key:"slotType",get:function(){return this._slotType},set:function(t){this._slotType=t,this.updateSpriteFrame()}}]),e}(m)).prototype,"slotBody",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(_.prototype,"slotNeonFrame",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(_.prototype,"slotFrameAnimation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(_.prototype,"testLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=_))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/SlotPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){i=t.cclegacy,o=t.instantiate}],execute:function(){i._RF.push({},"a2f67JwPZFI4oAq3czAzFs1","SlotPool",void 0),t("SlotPool",function(){function t(){this.inactivePool=new Set,this._prefab=void 0,this.startSlotCount=30}var i=t.prototype;return i.init=function(t){this._prefab=t},i.getSlot=function(){if(!(this.inactivePool.size>0))return o(this._prefab);for(var t,n=e(this.inactivePool);!(t=n()).done;){var i=t.value;return this.markAsActive(i),i}},i.recycleSlot=function(t){this.markAsInactive(t)},i.markAsActive=function(t){t.active=!0,this.inactivePool.delete(t)},i.markAsInactive=function(t){t.active=!1,this.inactivePool.add(t)},n(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/uitls.ts",["cc","./index.d.ts"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.SlotType}],execute:function(){t({getRandomResult:function(){var t=[[e.Banana,e.Banana,e.Banana],[e.Grape,e.Grape,e.Grape],[e.Wild,e.Wild,e.Wild],[e.Watermelon,e.Watermelon,e.Watermelon],[e.Scatter,e.Scatter,e.Scatter],[e.Orange,e.Orange,e.Orange]],n=Math.floor(Math.random()*t.length);return t[n]},getRandomSlotType:o,getRandomSlotTypeFruit:function(){return a[Math.floor(Math.random()*r.length)]},getRandomSlotTypes:function(t){void 0===t&&(t=3);return Array.from({length:t},(function(){return o()}))}}),n._RF.push({},"29695XpAjZFx7qRbYt7Ko+q","uitls",void 0);var r=Object.values(e).filter((function(t){return"number"==typeof t})),a=r.filter((function(t){return![e.Wild,e.Scatter].includes(t)}));function o(){return r[Math.floor(Math.random()*r.length)]}n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});